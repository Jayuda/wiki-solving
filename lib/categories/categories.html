<template name="mwCategories">
	{{#if categoriesExist}}
		<h2>Subcategories</h2>
		<ol>
			{{> mwCategories_cats}}
		</ol>
	{{/if}}

	{{#if pagesExist}}
		<h2>Pages in category "{{formatPageName categoryName}}"</h2>
		<ol>
			{{> mwCategories_pages}}
		</ol>
	{{/if}}
</template>

<template name="mwCategoryTree">
	<span class="catOpen">[<b>{{#if isOpen}}-{{else}}+{{/if}}</b>]</span>
	<a class="internal-link" data-link="read" data-name="{{name}}"
	href="/read/{{name}}">{{formatCategoryName name}}</a>
	{{#if isOpen}}
		{{#if hasChildren}}
			<ol>
			{{> mwCategories_cats}}
			{{> mwCategories_pages}}
			</ol>
		{{else}}
			{{#if isReady}}
				<br />No pages or subcategories
			{{else}}
				<span class="loading"></span>
			{{/if}}
		{{/if}}
	{{/if}}
</template>

<template name="mwCategories_cats">
	{{#each categories}}
		<li><span class="catOpen">[<b>{{#if isOpen}}-{{else}}+{{/if}}</b>]</span>
			<a class="internal-link" data-link="read" data-name="{{name}}"
			href="/read/{{name}}">{{formatCategoryName name}}</a>
			{{#if isOpen}}
				{{#if hasChildren}}
					<ol>
					{{> mwCategories_cats}}
					{{> mwCategories_pages}}
					</ol>
				{{else}}
					{{#if isReady}}
						<br />No pages or subcategories
					{{else}}
						<span class="loading"></span>
					{{/if}}
				{{/if}}
			{{/if}}
		</li>
	{{/each}}
</template>

<template name="mwCategories_pages">
	{{#each pages}}
		<li><a class="internal-link" data-link="read" data-name="{{name}}"
		href="/read/{{name}}">{{formatPageName name}}</a></li>
	{{/each}}
</template>

<template name="mwCategoryList">
	<h1>List of all Categories</h1>

	<ol>
	{{#each categories}}
		<li><a class="internal-link" data-link="read"
			data-name="{{name}}"
			href="/read/{{name}}">{{formatCategoryName name}}</a></li>
	{{/each}}
	</ol>
</template>

<template name="mwCategoryPageRender">
	<div class="catlinks">
		<a class="internal-link" data-link="special" data-name="Categories"
			href="/special/Categories">Categories</a>:

		<ul>
		{{#each categories}}
			<li><a class="internal-link" data-link="read"
				 data-name="Category:{{this}}"
				 href="/read/Category:{{this}}">{{formatPageName this}}</a></li>
		{{/each}}
		</ul>

	</div>
</template>

